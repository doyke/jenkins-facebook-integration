{% extends 'layout.html.twig' %}
{% set active = 'users' %}

{% block title %}Users{% endblock %}

{% block content %}

    <div class="page-header">
        <h1>All users</h1>
    </div>

    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>#</th>
                <th>E-Mail</th>
                <th>Enabled</th>
                <th>Project creation?</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% if users %}
            {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td>
                    <a href="{{ path('userEdit', {user: user.id}) }}"><strong>{{ user.email|escape }}</strong></a>{% if user.admin %} <span class="label label-info">Admin</span>{% endif %}
                </td>
                <td><i class="{% if user.loginAllowed %}icon-ok{% else %}icon-remove{% endif %}"></i></td>
                <td><i class="{% if user.projectCreationAllowed %}icon-ok{% else %}icon-remove{% endif %}"></i>{% if user.projectCount > 0 %} ({{ user.projectCount }} Projects){% endif %}</td>
                <td>
                    <a class="btn btn-mini btn-primary" href="{{ path('userEdit', {user: user.id}) }}"><i class="icon-pencil"></i> Edit</a>
                    <a class="btn btn-mini btn-danger" href="{{ path('userDelete', {user: user.id}) }}"><i class="icon-trash"></i> Delete</a>
                </td>
            </tr>
            {% endfor %}
            {% else %}
                <td colspan="4">There are no users yet.</td>
            {% endif %}
        </tbody>
    </table>

{% endblock %}
